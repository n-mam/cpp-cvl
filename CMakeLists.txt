project (cpp-cvl)

find_package(Threads)

if (UNIX)
 find_package(OpenCV REQUIRED)
endif (UNIX)      

ADD_EXECUTABLE(counter Main.cpp)
ADD_EXECUTABLE(mocap Mocap.cpp)

SET_PROPERTY(TARGET counter PROPERTY CXX_STANDARD 17)
SET_PROPERTY(TARGET mocap PROPERTY CXX_STANDARD 17)

TARGET_INCLUDE_DIRECTORIES(
 counter
 PRIVATE
 INCLUDE
)

TARGET_INCLUDE_DIRECTORIES(
 mocap
 PRIVATE
 INCLUDE
)

if (WIN32)
 TARGET_LINK_LIBRARIES(counter Ws2_32.lib)
 TARGET_LINK_LIBRARIES(mocap Ws2_32.lib) 
else()
 TARGET_LINK_LIBRARIES(counter ${CMAKE_THREAD_LIBS_INIT} OpenCV)
 TARGET_LINK_LIBRARIES(counter ${CMAKE_THREAD_LIBS_INIT} OpenCV) 
endif (WIN32)